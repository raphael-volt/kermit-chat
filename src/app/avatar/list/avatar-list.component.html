<canvas #drawer class="drawer"></canvas>
<mat-card class="avatar-card">
    <mat-card-header class="flex01">
        <mat-card-subtitle style="position: relative;">
            Choisir un avatar
            <mat-button-toggle-group aria-label="Type d'avatar">
                <mat-button-toggle *ngFor="let option of toolbarOptions" [value]="option.type">{{option.name}}
                </mat-button-toggle>
            </mat-button-toggle-group>
            <div matRipple [matRippleRadius]="25" [matRippleCentered]="true" 
                style="position: absolute; top: 5px;overflow: visible; cursor: pointer; display: inline-block; width: 40px; height: 40px;margin: 0;padding: 0;" class="fx-clr accent" #btn (click)="refreshAvatars()">
                <svg class="mat-elevation-z2" style="border-radius: 50%;" [refreshList]="btn" version="1.1" xmlns="http://www.w3.org/2000/svg" 
                    width="40px" height="40px" viewBox="0 0 768 768">
                    <path fill="currentColor"
                        d="M614.761 384q0-95.549-67.606-163.155t-163.155-67.606v-115.38l-153.239 153.239 153.239 155.042v-115.38q63.098 0 108.169 45.070t45.070 108.169-45.070 108.169-108.169 45.071-108.169-45.071-45.070-108.169h-77.522q0 95.549 67.606 163.155t163.155 67.606 163.155-67.606 67.606-163.155zM384 0q158.648 0 271.324 112.676t112.676 271.324-112.676 271.324-271.324 112.676-271.324-112.676-112.676-271.324 112.676-271.324 271.324-112.676z">
                    </path>
                </svg>
            </div>
        </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content class="flex11 avatar-content">
        <div #listRef class="avatar-list">
            <img *ngFor="let svg of avatars |Â async; ; let i = index" 
                [avatarSvg]="svg" 
                avatarItem 
                [avatarItemSelected]="i == selectedAvatar"
                matRipple 
                (click)="selectAvatar(i, svg)"
                class="avatar-renderer">
        </div>
    </mat-card-content>
    <mat-card-footer class="flex01">
        <mat-toolbar class="h-box gap16">
            <button (click)="cancel()"  mat-raised-button color="warn">Annuller</button>
            <button (click)="close()"  [disabled]="selectedAvatar == -1" mat-raised-button color="accent">OK</button>
        </mat-toolbar>
    </mat-card-footer>
</mat-card>