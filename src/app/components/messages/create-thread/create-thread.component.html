<mat-card class="nav-card flex-card">
    <mat-card-header>
        <mat-card-title>Nouveau message</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <form [formGroup]="form" class="v-box gap12 flex11">

            <mat-form-field>
                <mat-label>Objet</mat-label>
                <input matInput formControlName="subject" required>
                <mat-error *ngIf="subjectValidator.invalid && (subjectValidator.dirty || subjectValidator.touched)">
                    <span *ngIf="subjectValidator.errors.required">
                        Objet est requis.
                    </span>
                    <span *ngIf="subjectValidator.errors.minlength">
                        Objet trop court ({{subjectValidator.errors.minlength.requiredLength}} caractères au mois).
                    </span>
                </mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-rte style="height: 50vh;" (contentChange)="contentChange()" formControlName="content" required></mat-rte>
                <mat-error *ngIf="contentValidator.invalid">
                    <span *ngIf="contentValidator.errors?.required">
                        Message est requis.
                    </span>
                    <span *ngIf="contentValidator.errors?.minlength">
                        Message trop court ({{contentValidator.errors.minlength.requiredLength}} caractères au mois).
                    </span>
                </mat-error>
            </mat-form-field>
        </form>
    </mat-card-content>
    <mat-card-footer>
        <mat-toolbar class="h-box gap16">
            <button (click)="cancel()" mat-raised-button color="warn">Annuller</button>
            <button (click)="send()" [disabled]="!form.valid" mat-raised-button color="accent">Envoyer</button>
        </mat-toolbar>
    </mat-card-footer>
</mat-card>